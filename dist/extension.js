(()=>{"use strict";var e={265:function(e,t,i){var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i);var s=Object.getOwnPropertyDescriptor(t,i);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,r,s)}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&r(t,e,i);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.activate=function(e){const t=new a.LabinsightViewerProvider;o.window.createTreeView("labinsightViewerView",{treeDataProvider:t}),e.subscriptions.push(o.commands.registerCommand("labinsightViewer.scanForLabinsight",(()=>{o.window.showInformationMessage("Scanning all workspaces for .labinsight files..."),t.scanAllWorkspaces()})),o.commands.registerCommand("labinsightViewer.refresh",(()=>{t.refresh()})),o.commands.registerCommand("labinsightViewer.goBackToMenu",(()=>{t.showMainMenu()})),o.commands.registerCommand("labinsightViewer.initializeLabinsight",(()=>{o.window.showInformationMessage("Initialize Labinsight functionality not implemented yet.")})),o.commands.registerCommand("labinsightViewer.refreshWorkspace",(e=>{e.workspacePath&&(o.window.showInformationMessage(`Refreshing Labinsight for workspace: ${c.basename(e.workspacePath)}`),t.loadLabinsightConfig(e.workspacePath,t.labinsightFiles[e.workspacePath]),t.refresh())})),o.commands.registerCommand("labinsightViewer.createLabinsightFile",(async()=>{await async function(e){try{const t=o.workspace.workspaceFolders;if(!t||0===t.length)return void o.window.showErrorMessage("No workspace folders are open.");let i;if(1===t.length)i=t[0];else if(i=await o.window.showWorkspaceFolderPick({placeHolder:"Select a workspace to create the Labinsight file"}),!i)return void o.window.showWarningMessage("No workspace selected.");const r=".labinsight",s=c.join(i.uri.fsPath,r);if(l.existsSync(s)&&"Yes"!==await o.window.showWarningMessage(`File "${r}" already exists in the workspace. Do you want to overwrite it?`,{modal:!0},"Yes","No"))return void o.window.showInformationMessage("Operation cancelled.");const n={$schema:"https://lab-insight.web.app/config.schema.json",version:2,projectName:c.basename(i.uri.fsPath),projectType:"none",engine:"none",environment:"development",linting:"none",ignoredDirectories:["node_modules",".git","dist","reports","rules","build","out","temp","tmp","reports","logs"],ignoredFiles:[".labinsight",".gitignore",".npmignore",".prettierignore",".eslintignore","package-lock.json","package.json","tsconfig.json","README.md","CHANGELOG.md","LICENCE","ROADMAP.md","gulpfile.js","webpack.config.js","rollup.config.js","jest.config.js","gruntfile.js"],customRules:{},rules:{"py.require-function-description":{severity:"error"},"py.require-class-description":{severity:"error"},"py.casing-class":{severity:"error",options:{casing:"PascalCase"}},"py.casing-parameter":{severity:"error",options:{casing:"snakeCase"}},"py.casing-method":{severity:"error",options:{casing:"snakeCase"}},"py.casing-property":{severity:"error",options:{casing:"snakeCase"}},"py.casing-function":{severity:"error",options:{casing:"snakeCase"}},"py.max-file-lines":{severity:"error",options:{limit:100}},"py.max-function-lines":{severity:"error",options:{limit:10}},"py.max-method-lines":{severity:"error",options:{limit:10}},"js.max-lines":{severity:"error",options:{limit:100}},"js.max-method-lines":{severity:"error",options:{limit:25}},"js.max-function-lines":{severity:"error",options:{limit:25}},"js.max-array-length":{severity:"error",options:{limit:50}},"js.require-method-description":{severity:"error"},"js.require-function-description":{severity:"error"},"js.require-try-catch":{severity:"error"},"js.casing-class":{severity:"error",options:{casing:"pascalCase"}},"js.casing-parameter":{severity:"error",options:{casing:"camelCase"}},"js.casing-method":{severity:"error",options:{casing:"camelCase"}},"js.casing-property":{severity:"error",options:{casing:"camelCase"}},"ts.max-file-lines":{severity:"error",options:{limit:100}},"ts.max-class-lines":{severity:"error",options:{limit:50}},"ts.max-method-lines":{severity:"error",options:{limit:10}},"ts.max-function-lines":{severity:"error",options:{limit:10}},"ts.max-interface-lines":{severity:"error",options:{limit:10}},"ts.max-enum-lines":{severity:"error",options:{limit:10}},"ts.max-type-lines":{severity:"error",options:{limit:10}},"ts.max-array-length":{severity:"error",options:{limit:50}},"ts.require-function-description":{severity:"error"},"ts.require-method-description":{severity:"error"},"ts.require-class-description":{severity:"error"},"ts.require-interface-description":{severity:"error"},"ts.require-try-catch":{severity:"error"},"ts.casing-function":{severity:"error",options:{casing:"camelCase"}},"ts.casing-class":{severity:"error",options:{casing:"pascalCase"}},"ts.casing-parameter":{severity:"error",options:{casing:"camelCase"}},"ts.casing-method":{severity:"error",options:{casing:"camelCase"}},"ts.casing-property":{severity:"error",options:{casing:"camelCase"}},"ts.casing-type":{severity:"error",options:{casing:"pascalCase"}},"ts.casing-interface":{severity:"error",options:{casing:"pascalCase"}},"ts.casing-enum":{severity:"error",options:{casing:"pascalCase"}}}};l.writeFileSync(s,JSON.stringify(n,null,2),"utf-8"),o.window.showInformationMessage(`Labinsight file "${r}" created successfully.`);const a=await o.workspace.openTextDocument(s);await o.window.showTextDocument(a),e.scanAllWorkspaces()}catch(e){o.window.showErrorMessage(`Failed to create Labinsight file: ${e}`)}}(t)})))},t.deactivate=function(){};const o=n(i(398)),a=i(983),c=n(i(928)),l=n(i(896))},983:function(e,t,i){var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i);var s=Object.getOwnPropertyDescriptor(t,i);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,r,s)}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&r(t,e,i);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.LabinsightViewerProvider=void 0;const o=n(i(398)),a=n(i(896)),c=n(i(928)),l=i(213);t.LabinsightViewerProvider=class{_onDidChangeTreeData=new o.EventEmitter;onDidChangeTreeData=this._onDidChangeTreeData.event;labinsightConfigs={};labinsightFiles={};constructor(){this.scanAllWorkspaces()}getTreeItem(e){return e}getChildren(e){if(!e)return this.getMainMenuItems();if("backToMenu"===e.contextValue)return this.showMainMenu(),[];if("workspace"===e.contextValue){const t=e.workspacePath,i=this.labinsightConfigs[t];if(i){const e=this.parseLabinsightConfig(i.rules);return e.length>0?e:[new l.TreeItem("No Labinsight rules found",!1)]}return[new l.TreeItem("No .labinsight file found",!1)]}return"rule"===e.contextValue?this.getRuleDetails(e.rule):"options"===e.contextValue?this.getRuleOptions(e.rule):[]}getMainMenuItems(){const e=[],t=o.workspace.workspaceFolders;return t&&0!==t.length?(t.forEach((t=>{const i=t.uri.fsPath,r=new l.TreeItem(c.basename(i),!0,void 0,void 0,void 0,"workspace",i);e.push(r)})),e):(e.push(new l.TreeItem("No workspaces available",!1)),e)}parseLabinsightConfig(e){const t=[];for(const i of Object.keys(e)){const r=e[i],s=new l.TreeItem(i,!0,void 0,r,{light:c.join(__filename,"..","..","resources","logo",this.getRuleIcon(i)+".svg"),dark:c.join(__filename,"..","..","resources","logo",this.getRuleIcon(i)+".svg")},"rule");t.push(s)}return t}getRuleDetails(e){const t=[];if(t.push(new l.TreeItem(`Severity: ${e.severity}`,!1)),e.options){const i=new l.TreeItem("Options",!0,void 0,e,void 0,"options");t.push(i)}return t}getRuleOptions(e){const t=[];for(const i of Object.keys(e.options)){const r=e.options[i],s=new l.TreeItem(`${i}: ${r}`,!1,void 0,void 0,void 0,"option");t.push(s)}return t}getRuleIcon(e){return e.startsWith("py")?"python":e.startsWith("js")?"javascript":e.startsWith("ts")?"typescript":void 0}loadLabinsightConfig(e,t){if(a.existsSync(t)){const i=a.readFileSync(t,"utf-8");this.labinsightConfigs[e]=JSON.parse(i)}else this.labinsightConfigs[e]=null}findLabinsightFile(e,t){const i=a.readdirSync(e);for(const r of i){const i=c.join(e,r);if(a.statSync(i).isDirectory())this.findLabinsightFile(i,t);else if(".labinsight"===r)return void t(i)}t(null)}scanAllWorkspaces(){const e=o.workspace.workspaceFolders;e&&e.forEach((e=>{const t=e.uri.fsPath;this.findLabinsightFile(t,(e=>{e?(this.labinsightFiles[t]=e,this.loadLabinsightConfig(t,e)):this.labinsightConfigs[t]=null,this.refresh()}))}))}showMainMenu(){this.refresh()}refresh(){this._onDidChangeTreeData.fire()}}},213:function(e,t,i){var r=this&&this.__createBinding||(Object.create?function(e,t,i,r){void 0===r&&(r=i);var s=Object.getOwnPropertyDescriptor(t,i);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,r,s)}:function(e,t,i,r){void 0===r&&(r=i),e[r]=t[i]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)"default"!==i&&Object.prototype.hasOwnProperty.call(e,i)&&r(t,e,i);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.TreeItem=void 0;const o=n(i(398));class a extends o.TreeItem{label;collapsible;commandId;rule;iconPath;contextValue;workspacePath;constructor(e,t=!1,i,r,s,n,a){super(e,t?o.TreeItemCollapsibleState.Collapsed:o.TreeItemCollapsibleState.None),this.label=e,this.collapsible=t,this.commandId=i,this.rule=r,this.iconPath=s,this.contextValue=n,i&&(this.command={command:i,title:e}),("string"==typeof s||s)&&(this.iconPath=s),n&&(this.contextValue=n),a&&(this.workspacePath=a)}}t.TreeItem=a},398:e=>{e.exports=require("vscode")},896:e=>{e.exports=require("fs")},928:e=>{e.exports=require("path")}},t={},i=function i(r){var s=t[r];if(void 0!==s)return s.exports;var n=t[r]={exports:{}};return e[r].call(n.exports,n,n.exports,i),n.exports}(265);module.exports=i})();